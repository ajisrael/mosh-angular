<form #f="ngForm" [formGroup]="form">
  <div class="form-group">
    <label for="oldPassword">Old Password</label>
    <input
      formControlName="oldPassword"
      id="oldPassword"
      type="password"
      class="form-control"
    />
    <div
      *ngIf="oldPassword?.touched && oldPassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="oldPassword?.errors?.required">Old Password is required.</div>
      <div *ngIf="oldPassword?.errors?.passwordIncorrect">
        Password is incorrect.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="newPassword">New Password</label>
    <input
      formControlName="newPassword"
      id="newPassword"
      type="password"
      class="form-control"
      #newPass
    />
    <div
      *ngIf="newPassword?.touched && newPassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="newPassword?.errors?.required">New Password is required.</div>
      <div *ngIf="newPassword?.errors?.minlength">
        New Password should be minimum
        {{ newPassword?.errors?.minlength.requiredLength }} characters.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input
      formControlName="confirmPassword"
      id="confirmPassword"
      type="password"
      class="form-control"
      #confirmPass
    />
    <div
      *ngIf="confirmPassword?.touched && confirmPassword?.invalid"
      class="alert alert-danger"
    >
      <div *ngIf="confirmPassword?.errors?.required">
        Confirm Password is required.
      </div>
      <div *ngIf="confirmPassword?.errors?.minlength">
        Confirm Password should be minimum
        {{ confirmPassword?.errors?.minlength.requiredLength }} characters.
      </div>
    </div>
    <div
      *ngIf="
        confirmPassword.valid &&
        form?.invalid &&
        form?.errors?.passwordsDoNotMatch
      "
      class="alert alert-danger"
    >
      Passwords do not match.
    </div>
  </div>
  <p>
    {{ f.value | json }}
  </p>
  <button class="btn btn-primary mt-1" type="submit">Change Password</button>
</form>
